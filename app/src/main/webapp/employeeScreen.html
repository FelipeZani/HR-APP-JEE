<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Employees</title>

    <link rel="stylesheet" href="css/employeeScreen.css">

    <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.8/dist/htmx.min.js"
        integrity="sha384-/TgkGk7p307TH7EXJDuUlgG3Ce1UVolAOFopFekQkkXihi5u/6OCvVKyz1W+idaz"
        crossorigin="anonymous"></script>

    <script src="./ts/dist/employeeScreen.js" defer></script>
</head>

<body>
    <main>
        <h1>Employees</h1>
        <div id="tools-wrapper" style="display: flex; justify-content: flex-end; ">

            <button id="searchemployee-opendialogbutton">SearchEmployee</button>

            <button id="newemployee-opendialogbutton">New Employee</button>

            <dialog class="styled-dialog" id="searchemployee-dialog">

                <form class="form-dialog" id="searchemployee-form">
                    <input type="hidden" name="action" value="searchemployee">
                    <label for="id">EmployeeId:
                        <input type="text" name="employeeid">
                    </label>

                    <label for="name"> Name:
                        <input type="text" name="name">
                    </label>

                    <label for="lastname"> LastName:
                        <input type="text" name="lastname">
                    </label>

                    <select name="department" id="searchemployee-department-options"
                        hx-get="http://localhost:8080/app/departmentServlet?action=getdepartmentlist"
                        hx-trigger="click from:#searchemployee-opendialogbutton" hx-swap="innerHTML">
                    </select>

                    <div id="dialog-form-buttonWrapper">
                        <input type="button" value="submit" id="dialog-form-submitBtn"
                            hx-post="http://localhost:8080/app/employeeServlet"
                            hx-swap="innerHTML"
                            hx-target="#bodytable"
                        >

                        <input type="button" value="close" class="dialog-form-closeButton"
                            id="searchemployee-closeButton">
                    </div>

                </form>
            </dialog>

            <dialog class="styled-dialog" id="newemployee-dialog">
                <form action="" class="form-dialog" id="newemployee-form">
                    <label>Name: <input type="text" name="name"></label>
                    <label>Last name: <input type="text"></label>

                    <select name="department" id="newemployee-department-options"
                        hx-get="http://localhost:8080/app/departmentServlet?action=getdepartmentlist"
                        hx-trigger="click from:#newemployee-opendialogbutton" hx-swap="innerHTML"></select>

                    <select name="post" hx-get="http://localhost:8080/app/postServlet?action=getpostlist"
                        hx-trigger="click from:#newemployee-opendialogbutton" hx-swap="innerHTML"></select>

                    <div id="dialog-form-buttonWrapper">
                        <input type="submit" value="submit" id="dialog-form-submitBtn">
                        <input type="button" value="close" id="newemployee-closeButton">

                    </div>
                </form>
            </dialog>

        </div>

        <div id="employees-table">

            <dialog class="styled-dialog" id="modifyemployee-dialog">
                <form class="form-dialog" id="modifyemployee-form">
                    <label>Name: <input type="text" id="name-input"></label>
                    <label>Post: <input type="text" id="post-input"></label>
                    <label>Department: <input type="text" id="department-input"></label>
                    <label>Rank: <input type="text" id="rank-input"></label>
                    <label>Password: <input type="password" id="password-input"></label>

                    <div id="dialog-form-buttonWrapper">
                        <input type="submit" value="submit" id="dialog-form-submitBtn">
                        <input type="button" value="close" id="modifyemployee-closeButton">
                    </div>
                </form>
            </dialog>

            <dialog class="styled-dialog" id="removeemployee-dialog">
                <form class="form-dialog" id="removeemployee-form">
                    <p>Are you sure wanting to delete this Employee?</p>
                    <div>
                        <input type="button" value="Yes">
                        <input type="button" value="No" id="removeemployee-closeButton">
                    </div>

                </form>
            </dialog>


            <div class="row">
                <div>Name</div>
                <div>Post</div>
                <div>Department</div>
                <div>Rank</div>
                <div>Action</div>
            </div>
            <div id="bodytable" hx-get="http://localhost:8080/app/employeeServlet?action=getallemployees"
                hx-trigger="load" hx-swap="innerHTML">

            </div>


        </div>

    </main>
</body>

</html>